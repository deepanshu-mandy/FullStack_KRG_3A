{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Downloads\\\\local-seller-demo\\\\react-frontend\\\\src\\\\components\\\\Cart.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart({\n  refreshProducts\n}) {\n  _s();\n  const [items, setItems] = useState([]);\n  const load = () => fetch('http://localhost:8080/api/cart').then(r => r.json()).then(setItems);\n  useEffect(() => {\n    load();\n  }, []);\n  const placeOrder = () => {\n    const total = items.reduce((s, it) => s + it.price * it.quantity, 0);\n    fetch('http://localhost:8080/api/orders/place', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        total: total,\n        itemsJson: JSON.stringify(items)\n      })\n    }).then(() => {\n      alert('Order placed');\n      fetch('http://localhost:8080/api/cart', {\n        method: 'DELETE'\n      }).then(() => {\n        load();\n        refreshProducts();\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n      children: items.map(it => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [it.productName, \" x \", it.quantity, \" \\u2014 \\u20B9\", it.price * it.quantity, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            fetch('http://localhost:8080/api/cart/' + it.id, {\n              method: 'DELETE'\n            }).then(load);\n          },\n          children: \"Remove\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 13\n        }, this)]\n      }, it.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: [\"Total: \\u20B9\", items.reduce((s, it) => s + it.price * it.quantity, 0)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: placeOrder,\n        disabled: items.length === 0,\n        children: \"Place Order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"E85yb7BhBnl3/OpymRdjFiQJ97s=\");\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Cart","refreshProducts","_s","items","setItems","load","fetch","then","r","json","placeOrder","total","reduce","s","it","price","quantity","method","headers","body","JSON","stringify","itemsJson","alert","children","map","productName","onClick","id","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","disabled","length","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Downloads/local-seller-demo/react-frontend/src/components/Cart.jsx"],"sourcesContent":["\nimport React, {useEffect, useState} from 'react';\n\nexport default function Cart({refreshProducts}){\n  const [items, setItems] = useState([]);\n\n  const load = ()=> fetch('http://localhost:8080/api/cart').then(r=>r.json()).then(setItems);\n  useEffect(()=>{ load(); },[]);\n\n  const placeOrder = ()=>{\n    const total = items.reduce((s,it)=>s + it.price*it.quantity, 0);\n    fetch('http://localhost:8080/api/orders/place',{\n      method:'POST', headers:{'Content-Type':'application/json'},\n      body: JSON.stringify({ total: total, itemsJson: JSON.stringify(items)})\n    }).then(()=>{ alert('Order placed'); fetch('http://localhost:8080/api/cart', {method:'DELETE'}).then(()=>{ load(); refreshProducts(); }); });\n  }\n\n  return (\n    <div>\n      <ul>\n        {items.map(it=> (\n          <li key={it.id}>\n            {it.productName} x {it.quantity} — ₹{it.price*it.quantity}\n            <button onClick={()=>{ fetch('http://localhost:8080/api/cart/'+it.id,{method:'DELETE'}).then(load); }}>Remove</button>\n          </li>\n        ))}\n      </ul>\n      <div style={{marginTop:10}}>\n        <strong>Total: ₹{items.reduce((s,it)=>s + it.price*it.quantity,0)}</strong>\n      </div>\n      <div style={{marginTop:10}}>\n        <button onClick={placeOrder} disabled={items.length===0}>Place Order</button>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}